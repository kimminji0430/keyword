<!DOCTYPE html>
<html>
<head>
    <title>키워드 추천기 (수식 기반)</title>
</head>
<body>
    <h2>텍스트 입력</h2>
    <textarea id="textInput" rows="7" cols="50"></textarea><br>
    <button onclick="recommend()">키워드 추천</button>
    <h3>추천 키워드</h3>
    <div id="result"></div>

    <script>
        function recommend() {
            let text = document.getElementById("textInput").value;
            let words = text.replace(/[^\w\s]/g, "").split(/\s+/).filter(w=>w);
            // 추천 개수 공식
            let n = Math.max(1, Math.floor(text.length / 100) + 1);
            // 키워드 빈도 계산
            let freq = {};
            words.forEach(function(w){ freq[w] = (freq[w]||0) + 1; });
            // 상위 n개 키워드 추천
            let sorted = Object.entries(freq).sort((a,b)=>b[1]-a[1]);
            let top = sorted.slice(0, n).map(([kw, cnt])=>`${kw}(${cnt})`).join(', ');
            document.getElementById("result").innerText = top || "키워드 없음";
        }
    </script>
</body>
</html>
